<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<!--  Application context definition for Map Layer DispatcherServlet -->
<beans>
    <!--  Define how the dispatcher will select the contollers -->
    <bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="mappings">
            <props>
                <prop key="/">regionBrowseController</prop>
            	<prop key="/browse">regionBrowseController</prop>
            	<prop key="/browse/*">regionBrowseController</prop>
                <prop key="/*">regionController</prop>
                <prop key="/*/locality/*">regionController</prop>
                <prop key="/*.htm">urlFilenameController</prop>
            </props>
        </property>
    </bean>
    
    <!-- Simple Controller for rendering a GeoRegion -->
    <bean id="regionController" class="org.ala.web.controller.RegionController">
        <property name="urlRoot" value="regions"/>
        <property name="geoRegionDAO" ref="geoRegionDAORO"/>
	    <property name="supportedPatterns">
	      <list>
	        <list>
	          <value>region</value>
	        </list>
            <list>
              <value>region</value>
              <value>propertyName1</value>
              <value>locality</value>
            </list>
	      </list>
	    </property>
    </bean>
    
    <!-- Simple Controller for browsing a list of GeoRegions -->
    <bean id="regionBrowseController" class="org.ala.web.controller.RegionBrowseController">
        <property name="urlRoot" value="browse"/>
        <property name="geoRegionDAO" ref="alaGeoRegionDAORO"/>
	    <property name="supportedPatterns">
	      <list>
	        <list>
	          <value>regionType</value>
	        </list>
	      </list>
	    </property>
    </bean>
</beans>